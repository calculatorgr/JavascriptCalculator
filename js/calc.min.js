var expr=document.getElementById("expr"),pretty=document.getElementById("pretty"),result=document.getElementById("result"),angles_units=["rad","deg","grad"],angles_unit_index=0,exampleIndx=Math.floor(Math.random()*examples.length),noNeedResult=["function","undefined","Stop"],noNeedPretty=["b2b"];expr.value="",pretty.innerHTML="<span style='color:#57637c;'>$$$$</span>",result.value="";var noNeedResultRegex=RegExp(noNeedResult.map(function(e){return"\\b"+e+"\\b"}).join("|"),"i"),noNeedPrettyRegex=RegExp(noNeedPretty.map(function(e){return"\\b"+e+"\\b"}).join("|"));function needPretty(e){return!noNeedPrettyRegex.test(e)}function display(e){var t="",i=null,s=null,n=null,l="",c="",r="",o=!0;o=needPretty(t=expr.value.replace(/รท/g,"/"));try{i=math.parse(t),r=e?math.format(i.compile().eval(),{lowerExp:-10,upperExp:10}):"",result.value=!e||noNeedResultRegex.test(r)?"":r.replace(/['"]+/g,"")}catch(d){result.value=""}try{o&&(r=r.replace(/['"]+/g,""),t=t.replace(/['"]+/g,"")),s=""==result.value?"":math.parse(r),l=(n=math.parse(t))?n.toTex({parenthesis:parenthesis,implicit:implicit}):"",c=e&&s?" = "+s.toTex({parenthesis:parenthesis,implicit:implicit}):""}catch(g){}var u=MathJax.Hub.getAllJax("pretty")[0];MathJax.Hub.Queue(["Text",u,null==i||"undefined"==i?"":(l+c).replace(/['"]+/g,"")])}function insertAtCursorAndDisplay(e){insertAtCursorPosition("expr",e),display(autoexecution)}function toggleDelete(){var e=document.getElementById("goleft"),t=document.getElementById("goright"),i=""!=e.getAttribute("title")?"title":"temp_title",s=e.getAttribute(i);e.setAttribute(i,e.getAttribute("second_title")),e.setAttribute("second_title",s),s=t.getAttribute(i),t.setAttribute(i,t.getAttribute("second_title")),t.setAttribute("second_title",s);var n=e.innerHTML,l=t.innerHTML;"x"!=n.charAt(0)?(e.innerHTML="x"+n,t.innerHTML=l+"x"):(e.innerHTML=n.slice(1),t.innerHTML=l.slice(0,-1)),document.getElementById("expr").focus()}function goLeft(){"x"==document.getElementById("goleft").innerHTML.charAt(0)?(removePreviousChar("expr"),display(autoexecution)):moveCursorLeft("expr")}function goRight(){"x"==document.getElementById("goleft").innerHTML.charAt(0)?(removeNextChar("expr"),display(autoexecution)):moveCursorRight("expr")}function toggleAnglesUnit(e){anglesConfig.toggleUnit(),(a=document.getElementById(e)).innerHTML=anglesConfig.unit,what_to_change=""!=(temp=a.getAttribute("title"))?"title":"temp_title",temp=a.getAttribute(what_to_change),a.setAttribute(what_to_change,anglesConfig.getDescr(anglesConfig.unit)),autoexecution&&display(autoexecution)}function setAutoexec(e){autoexecution=!autoexecution,what_to_change=""!=(temp=(a=document.getElementById(e)).getAttribute("title"))?"title":"temp_title",temp=a.getAttribute(what_to_change),a.setAttribute(what_to_change,a.getAttribute("second_title")),a.setAttribute("second_title",temp),autoexecution?a.className+=" active":a.classList.remove("active"),autoexecution&&display(autoexecution)}function backToBasicCategory(e){"fix"!=(cat_id=$("#"+e).attr("cat_id"))&&"basic"!=cat_id&&($("#"+cat_id).css("display","none"),$("#basic").css("display","block"))}function displayHostName(){let e=document.getElementById("calcLogo-link");e.href=window.location.href,domain=window.location.host.replace("www.","");var t="www.",i=t.length;domain.substr(t,i)==t&&(domain=domain.substring(i)),domain=domain.toUpperCase(),e.innerHTML=domain;let s=document.getElementById("pagelogo-link");s.href=window.location.href,s.innerHTML=domain}$(document).ready(function(){$("#expr").bind("input keyup cut paste",function(){display(autoexecution)}),document.getElementById("basic").style.display="block",document.getElementById("fix").style.display="block",document.getElementById("basic-switch").className+=" active",$(".switch:not('#toggleTooltip')").click(function(){this_id=$(this).attr("id"),cat_id=$(this).attr("cat_id"),$("#"+cat_id).is(":visible")&&"basic"!=cat_id?($("#"+cat_id).css("display","none"),document.getElementById(this_id).classList.remove("active")):($("#"+cat_id).css("display","block"),document.getElementById(this_id).className+=" active"),$(".cat").each(function(){"fix"!=(temp=$(this).attr("id"))&&temp!=cat_id&&"basic"!=temp&&($(this).css("display","none"),document.getElementById(temp+"-switch").classList.remove("active"))}),"basic"!=cat_id&&$("#"+cat_id).is(":visible")?($("#basic").css("display","none"),document.getElementById("basic-switch").classList.remove("active")):($("#basic").css("display","block"),document.getElementById("basic-switch").className+=document.getElementById("basic-switch").classList.contains("active")?"":" active")}),$(".distr-funcname:not('.beta')").each(function(){temp_id=$(this).attr("id"),$("#"+temp_id+"-div").css("display","none")}),!1==document.getElementById("betaDistr").classList.contains("active")&&(document.getElementById("betaDistr").className+=" active"),$(".distr-name").click(function(){this_id=$(this).attr("id"),this_obj=document.getElementById(this_id),this_distrname=this_id.replace("Distr",""),this_obj.classList.contains("active")||($(".distr-name").each(function(){(temp_id=$(this).attr("id"))!=this_id&&document.getElementById(temp_id).classList.contains("active")&&document.getElementById(temp_id).classList.remove("active")}),this_obj.classList.contains("active")||(this_obj.className+=" active"),$(".distr-funcname").each(function(){temp_id=$(this).attr("id"),temp_obj=document.getElementById(temp_id),(distrname=temp_id.replace(/Pdf|Cdf|Inv|Mean|Median|Mode|Sample|Var/g,""))==this_distrname?($("#"+temp_id+"-div").css({display:"block",color:"white"}),"function"!=typeof math[temp_id]&&$("#"+temp_id).css({color:"gray",cursor:"default"})):$("#"+temp_id+"-div").css("display","none")}))}),$(".btn").click(function(){switch(this_id=$(this).attr("id")){case"":break;case"goleft":goLeft();break;case"goright":goRight();break;case"delete":toggleDelete();break;case"allclear":allClear("expr"),display(!0);break;case"execute":display(!0);break;case"angles":toggleAnglesUnit(this_id);break;case"autoexec":setAutoexec(this_id);break;case"examples":expr.value=examples[exampleIndx++%examples.length],display(autoexecution);break;default:insertAtCursorAndDisplay($("#"+this_id).attr("display_on_screen"))}}),$("#toggleTooltip").click(function(){var e;$(".btn, .switch, .mobileversionlink, #toggleTooltip").each(function(){e=$(this).attr("title"),$(this).attr("title",$(this).attr("temp_title")),$(this).attr("temp_title",e)}),(e=document.getElementById("toggleTooltip")).classList.contains("active")?e.classList.remove("active"):e.className+=" active"});var e=new Base({Big:Big,extensions:[extRoman,extTwosComplement,extStandard,extLeet,extImaginary]});window.b2b=function(t,i,s){return e.convert(t,i,s)}});